<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Test::Mini::Assertions</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Test.html" title="Test (module)">Test</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mini.html" title="Test::Mini (class)">Mini</a></span></span>
     &raquo; 
    <span class="title">Assertions</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Test::Mini::Assertions
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Test::Mini::Assertions</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/Test/Mini/Assertions.pm</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Basic Assertions for Test::Mini.
</p>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Exported Functions
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert-instance_method" title="#assert (instance method)">- <strong>assert</strong>($test, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Asserts that <tt>$test</tt> is truthy, and throws a
<span class='object_link'><a href="Exception/Assert.html" title="Test::Mini::Exception::Assert (class)">Exception::Assert</a></span> if that assertion fails.
</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#assert_block-instance_method" title="#assert_block (instance method)">- <strong>assert_block</strong>($block, $msg) </a>
    

    
  </span>
  
  
  
  
  <span class="deprecated note title">Deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>
This assertion offers little advantage over the base <span class='object_link'><a href="#assert-instance_method" title="Test::Mini::Assertions#assert (method)">#assert</a></span>. This will
be removed in v2.0.0.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_can-instance_method" title="#assert_can (instance method)">- <strong>assert_can</strong>($obj, $method, $msg) </a>
    

    
      (also: #assert_responds_to)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies that the given <tt>$obj</tt> is capable of responding to the given
<tt>$method</tt> name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_contains-instance_method" title="#assert_contains (instance method)">- <strong>assert_contains</strong>($collection, $obj, $msg) </a>
    

    
      (also: #assert_includes)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies that the given <tt>$collection</tt> contains the given <tt>$obj</tt> as a
member.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_defined-instance_method" title="#assert_defined (instance method)">- <strong>assert_defined</strong>($obj, $msg) </a>
    

    
      (also: #refute_undef)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that the given <tt>$obj</tt> is defined.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_dies-instance_method" title="#assert_dies (instance method)">- <strong>assert_dies</strong>($sub, $error, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Tests that the supplied code block dies, and fails if it succeeds.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_empty-instance_method" title="#assert_empty (instance method)">- <strong>assert_empty</strong>($collection, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies the emptiness of a collection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_equal-instance_method" title="#assert_equal (instance method)">- <strong>assert_equal</strong>($actual, $expected, $msg) </a>
    

    
      (also: #assert_eq)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks two given arguments for equality.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_in_delta-instance_method" title="#assert_in_delta (instance method)">- <strong>assert_in_delta</strong>($actual, $expected, $delta, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is less than
<tt>$delta</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_in_epsilon-instance_method" title="#assert_in_epsilon (instance method)">- <strong>assert_in_epsilon</strong>($actual, $expected, $epsilon, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is less than a
given fraction of the smaller of the two numbers.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_instance_of-instance_method" title="#assert_instance_of (instance method)">- <strong>assert_instance_of</strong>($obj, $type, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that the given object is an instance of <tt>$type</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_is_a-instance_method" title="#assert_is_a (instance method)">- <strong>assert_is_a</strong>($obj, $type, $msg) </a>
    

    
      (also: #assert_isa)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that <tt>$obj</tt> inherits from <tt>$type</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_match-instance_method" title="#assert_match (instance method)">- <strong>assert_match</strong>($string, $pattern, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that the given <tt>$string</tt> matches the given <tt>$pattern</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assert_undef-instance_method" title="#assert_undef (instance method)">- <strong>assert_undef</strong>($obj, $msg) </a>
    

    
      (also: #refute_defined)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that the given <tt>$obj</tt> is undefined.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flunk-instance_method" title="#flunk (instance method)">- <strong>flunk</strong>($msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Causes the current test to exit immediately with a failing status.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute-instance_method" title="#refute (instance method)">- <strong>refute</strong>($test, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Asserts that <tt>$test</tt> is falsey, and throws a
<span class='object_link'><a href="Exception/Assert.html" title="Test::Mini::Exception::Assert (class)">Exception::Assert</a></span> if that assertion fails.
</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#refute_block-instance_method" title="#refute_block (instance method)">- <strong>refute_block</strong>($block, $msg) </a>
    

    
  </span>
  
  
  
  
  <span class="deprecated note title">Deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>
This assertion offers little advantage over the base <span class='object_link'><a href="#refute-instance_method" title="Test::Mini::Assertions#refute (method)">#refute</a></span>. This will
be removed in v2.0.0.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_can-instance_method" title="#refute_can (instance method)">- <strong>refute_can</strong>($obj, $method, $msg) </a>
    

    
      (also: #refute_responds_to)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies that the given <tt>$obj</tt> is <b>not</b> capable of responding to the
given <tt>$method</tt> name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_contains-instance_method" title="#refute_contains (instance method)">- <strong>refute_contains</strong>($collection, $obj, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies that the given <tt>$collection</tt> does not contain the given <tt>$obj</tt> as
a member.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_empty-instance_method" title="#refute_empty (instance method)">- <strong>refute_empty</strong>($collection, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Verifies the non-emptiness of a collection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_equal-instance_method" title="#refute_equal (instance method)">- <strong>refute_equal</strong>($actual, $unexpected, $msg) </a>
    

    
      (also: #refute_eq)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks two given arguments for inequality.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_in_delta-instance_method" title="#refute_in_delta (instance method)">- <strong>refute_in_delta</strong>($actual, $expected, $delta, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is greater
than <tt>$delta</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_in_epsilon-instance_method" title="#refute_in_epsilon (instance method)">- <strong>refute_in_epsilon</strong>($actual, $expected, $epsilon, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is greater
than a given fraction of the smaller of the two numbers.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refute_match-instance_method" title="#refute_match (instance method)">- <strong>refute_match</strong>($string, $pattern, $msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validates that the given <tt>$string</tt> does not match the given <tt>$pattern</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip-instance_method" title="#skip (instance method)">- <strong>skip</strong>($msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Allows the current test to be bypassed with an indeterminate status.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#import-class_method" title="import (class method)">+ <strong>import</strong>($class) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Pulls all of the test-related methods into the calling package.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="import-class_method">
  
    + <strong>import</strong>($class) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Pulls all of the test-related methods into the calling package.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 67</span>

<span class="kw">sub</span> <span class="val">import</span> {
    <span class="kw">my</span> (<span class="ivar">$class</span>) = <span class="ivar">@_</span>;
    <span class="kw">my</span> <span class="ivar">$caller</span> = <span class="kw">caller</span>;

    <span class="kw">no</span> strict <span class="tstring">'refs'</span>;
    *{<span class="tstring">"<span class="ivar">$caller</span><span class="const">\:</span>:count_assertions"</span>} = \&_count_assertions;
    *{<span class="tstring">"<span class="ivar">$caller</span><span class="const">\:</span>:reset_assertions"</span>} = \&_reset_assertions;

    <span class="kw">my</span> <span class="ivar">@asserts</span> = <span class="kw">grep</span> { <span class="regexp">/^(assert|refute|skip$|flunk$)/</span> && <span class="kw">defined</span> &{<span class="ivar">$_</span>} } <span class="kw">keys</span> %{<span class="tstring">"<span class="ivar">$class</span><span class="const">\:</span>:"</span>};

    <span class="kw">for</span> <span class="kw">my</span> <span class="ivar">$assertion</span> (<span class="ivar">@asserts</span>) {
        *{<span class="tstring">"<span class="ivar">$caller</span><span class="const">\:</span>:<span class="ivar">$assertion</span>"</span>} = <span class="const">\&</span>{<span class="ivar">$assertion</span>};
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="assert-instance_method">
  
    - <strong>assert</strong>($test, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Asserts that <tt>$test</tt> is truthy, and throws a
<span class='object_link'><a href="Exception/Assert.html" title="Test::Mini::Exception::Assert (class)">Exception::Assert</a></span> if that assertion fails.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert 1;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert <span class="tstring">'true'</span>, <span class="tstring">'Truth should shine clear'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$test</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 101</span>

<span class="kw">sub</span> <span class="val">assert</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$test</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> ||= <span class="tstring">'Assertion failed; no message given.'</span>;
    <span class="ivar">$msg</span> = <span class="ivar">$msg</span><span class="kw">-></span>() <span class="kw">if</span> <span class="kw">ref</span> <span class="ivar">$msg</span> <span class="kw">eq</span> <span class="tstring">'CODE'</span>;

    <span class="ivar">$assertion_count</span>++;

    <span class="kw">return</span> 1 <span class="kw">if</span> <span class="ivar">$test</span>;

    Test::Mini::Exception::Assert<span class="kw">-></span>throw(
        <span class="symbol">message        </span>=> <span class="ivar">$msg</span>,
        <span class="symbol">ignore_package </span>=> [<span class="const">__PACKAGE__</span>],
    );
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_block-instance_method">
  
    - <strong>assert_block</strong>($block, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>
This assertion offers little advantage over the base <span class='object_link'><a href="#assert-instance_method" title="Test::Mini::Assertions#assert (method)">#assert</a></span>. This will
be removed in v2.0.0.
</p>
</div></div>
<p>
Asserts that the given code reference returns a truthy value.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_block { <span class="tstring">'true'</span> };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_block \&some_sub, <span class="tstring">'expected better from &some_sub'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>CODE</tt>)</span>
      
      
        <span class='name'>$block</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The code reference to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 144</span>

<span class="kw">sub</span> <span class="val">assert_block</span> <span class="kw">(&;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$block</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="kw">warn</span> <span class="tstring">'#assert_block is deprecated; please use #assert instead.'</span>;
    (<span class="ivar">$msg</span>, <span class="ivar">$block</span>) = (<span class="ivar">$block</span>, <span class="ivar">$msg</span>) <span class="kw">if</span> <span class="ivar">$msg</span> && <span class="kw">ref</span> <span class="ivar">$block</span> <span class="kw">ne</span> <span class="tstring">'CODE'</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">'Expected block to return true value'</span>, <span class="ivar">$msg</span>);
    assert_instance_of(<span class="ivar">$block</span>, <span class="tstring">'CODE'</span>);
    assert(<span class="ivar">$block</span><span class="kw">-></span>(), <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_can-instance_method">
  
    - <strong>assert_can</strong>($obj, $method, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='assert_responds_to-instance_method'>assert_responds_to</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies that the given <tt>$obj</tt> is capable of responding to the given
<tt>$method</tt> name.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_can <span class="ivar">$date</span>, <span class="tstring">'day_of_week'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_can <span class="ivar">$time</span>, <span class="tstring">'seconds'</span>, <span class="tstring">'$time cannot respond to #seconds'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The object being tested.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$method</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The method name being checked for.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 185</span>

<span class="kw">sub</span> <span class="val">assert_can</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$method</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} (@{[ref <span class="ivar">$obj</span> || 'SCALAR']}) to respond to #<span class="ivar">$method</span>"</span>, <span class="ivar">$msg</span>);
    assert(<span class="ivar">$obj</span><span class="kw">-></span>can(<span class="ivar">$method</span>), <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_contains-instance_method">
  
    - <strong>assert_contains</strong>($collection, $obj, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='assert_includes-instance_method'>assert_includes</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies that the given <tt>$collection</tt> contains the given <tt>$obj</tt> as a
member.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_contains [<span class="tstring">qw/ 1 2 3 /</span>], 2;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_contains { <span class="symbol">a </span>=> <span class="tstring">'b'</span> }, <span class="tstring">'a'</span>;  # <span class="tstring">'b'</span> also contained</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_contains <span class="tstring">'expectorate'</span>, <span class="tstring">'xp'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_contains Collection<span class="kw">-></span>new(1, 2, 3), 2;  # <span class="kw">if</span> Collection<span class="kw">-></span>contains(2)</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array|Hash|String|#contains</tt>)</span>
      
      
        <span class='name'>$collection</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The collection to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The needle to find.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 222</span>

<span class="kw">sub</span> <span class="val">assert_contains</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$collection</span>, <span class="ivar">$obj</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="kw">my</span> <span class="ivar">$m</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$collection</span>)]} to contain @{[inspect(<span class="ivar">$obj</span>)]}"</span>, <span class="ivar">$msg</span>);
    <span class="kw">if</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
        <span class="kw">my</span> <span class="ivar">$search</span> = any {<span class="kw">defined</span> <span class="ivar">$obj</span> ? <span class="ivar">$_</span> <span class="kw">eq</span> <span class="ivar">$obj</span> : <span class="kw">defined</span> <span class="ivar">$_</span> } <span class="ivar">@$collection</span>;
        assert(<span class="ivar">$search</span>, <span class="ivar">$m</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
        &assert_contains([<span class="ivar">%$collection</span>], <span class="ivar">$obj</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span>) {
        assert_can(<span class="ivar">$collection</span>, <span class="tstring">'contains'</span>);
        assert(<span class="ivar">$collection</span><span class="kw">-></span>contains(<span class="ivar">$obj</span>), <span class="ivar">$m</span>);
    }
    <span class="kw">else</span> {
        assert(<span class="kw">index</span>(<span class="ivar">$collection</span>, <span class="ivar">$obj</span>) != -1, <span class="ivar">$m</span>);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_defined-instance_method">
  
    - <strong>assert_defined</strong>($obj, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='refute_undef-instance_method'>refute_undef</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that the given <tt>$obj</tt> is defined.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_defined <span class="ivar">$value</span>;  # <span class="kw">if</span> <span class="kw">defined</span> <span class="ivar">$value</span></pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value to check.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 282</span>

<span class="kw">sub</span> <span class="val">assert_defined</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} to be defined"</span>, <span class="ivar">$msg</span>);
    assert(<span class="kw">defined</span> <span class="ivar">$obj</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_dies-instance_method">
  
    - <strong>assert_dies</strong>($sub, $error, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Tests that the supplied code block dies, and fails if it succeeds.  If
<tt>$error</tt> is provided, the error message in <tt>$@</tt> must contain it.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_dies { <span class="kw">die</span> <span class="tstring">'LAGHLAGHLAGHL'</span> };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_dies { <span class="kw">die</span> <span class="tstring">'Failure on line 27 in Foo.pm'</span> } <span class="tstring">'line 27'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>CODE</tt>)</span>
      
      
        <span class='name'>$sub</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The code that should die.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$error</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The (optional) error substring expected.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305
306
307
308
309
310
311
312
313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 303</span>

<span class="kw">sub</span> <span class="val">assert_dies</span> <span class="kw">(&;$$)</span> {
    <span class="kw">my</span> (<span class="ivar">$sub</span>, <span class="ivar">$error</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$error</span> = <span class="tstring">''</span> <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$error</span>;

    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$sub</span>)]} to die matching /<span class="ivar">$error</span>/"</span>, <span class="ivar">$msg</span>);
    <span class="kw">my</span> (<span class="ivar">$full_error</span>, <span class="ivar">$dies</span>);
    {
        <span class="kw">local</span> <span class="ivar">$@</span>;
        <span class="ivar">$dies</span> = not <span class="kw">eval</span> { <span class="ivar">$sub</span><span class="kw">-></span>(); <span class="kw">return</span> 1; };
        <span class="ivar">$full_error</span> = <span class="ivar">$@</span>;
    }
    assert(<span class="ivar">$dies</span>, <span class="ivar">$msg</span>);
    assert_contains(<span class="tstring">"<span class="ivar">$full_error</span>"</span>, <span class="ivar">$error</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_empty-instance_method">
  
    - <strong>assert_empty</strong>($collection, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies the emptiness of a collection.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_empty [];</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_empty {};</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_empty <span class="tstring">''</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_empty Collection<span class="kw">-></span>new();  # <span class="kw">if</span> Collection<span class="kw">-></span>new()<span class="kw">-></span>is_empty()</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array|Hash|String|#is_empty</tt>)</span>
      
      
        <span class='name'>$collection</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The collection under scrutiny.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 331</span>

<span class="kw">sub</span> <span class="val">assert_empty</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$collection</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$collection</span>)]} to be empty"</span>, <span class="ivar">$msg</span>);
    <span class="kw">if</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
        refute(<span class="ivar">@$collection</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
        refute(<span class="kw">keys</span> <span class="ivar">%$collection</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span>) {
        assert_can(<span class="ivar">$collection</span>, <span class="tstring">'is_empty'</span>);
        assert(<span class="ivar">$collection</span><span class="kw">-></span>is_empty(), <span class="ivar">$msg</span>);
    }
    <span class="kw">else</span> {
        refute(<span class="kw">length</span> <span class="ivar">$collection</span>, <span class="ivar">$msg</span>);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_equal-instance_method">
  
    - <strong>assert_equal</strong>($actual, $expected, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='assert_eq-instance_method'>assert_eq</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks two given arguments for equality.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_equal 3.000, 3;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_equal <span class="kw">lc</span>(<span class="tstring">'FOO'</span>), <span class="tstring">'foo'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_equal [<span class="tstring">qw/ 1 2 3 /</span>], [ 1, 2, 3 ];</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_equal { <span class="symbol">a </span>=> <span class="tstring">'eh'</span> }, { <span class="symbol">a </span>=> <span class="tstring">'eh'</span> };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_equal Class<span class="kw">-></span>new(), <span class="ivar">$expected</span>;  # <span class="kw">if</span> <span class="ivar">$expected</span><span class="kw">-></span>equals(Class<span class="kw">-></span>new())</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value under test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The expected value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 404</span>

<span class="kw">sub</span> <span class="val">assert_equal</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Got @{[inspect(<span class="ivar">$actual</span>)]}<span class="const">\n</span>not @{[inspect(<span class="ivar">$expected</span>)]}"</span>, <span class="ivar">$msg</span>);

    <span class="kw">my</span> <span class="ivar">@expected</span> = (<span class="ivar">$expected</span>);
    <span class="kw">my</span> <span class="ivar">@actual</span>   = (<span class="ivar">$actual</span>);

    <span class="kw">my</span> <span class="ivar">$passed</span> = 1;

    <span class="kw">while</span> (<span class="ivar">$passed</span> && (<span class="ivar">@actual</span> || <span class="ivar">@expected</span>)) {
        (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>) = (<span class="kw">shift</span>(<span class="ivar">@actual</span>), <span class="kw">shift</span>(<span class="ivar">@expected</span>));

        <span class="kw">next</span> <span class="kw">if</span> <span class="kw">ref</span> <span class="ivar">$actual</span> && <span class="kw">ref</span> <span class="ivar">$expected</span> && refaddr(<span class="ivar">$actual</span>) == refaddr(<span class="ivar">$expected</span>);

        <span class="kw">if</span> (UNIVERSAL::can(<span class="ivar">$expected</span>, <span class="tstring">'equals'</span>)) {
            <span class="ivar">$passed</span> = <span class="ivar">$expected</span><span class="kw">-></span>equals(<span class="ivar">$actual</span>);
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span> && <span class="kw">ref</span> <span class="ivar">$expected</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
            <span class="ivar">$passed</span> = (<span class="ivar">@$actual</span> == <span class="ivar">@$expected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>, <span class="ivar">@$actual</span>;
            <span class="kw">unshift</span> <span class="ivar">@expected</span>, <span class="ivar">@$expected</span>;
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span> && <span class="kw">ref</span> <span class="ivar">$expected</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
            <span class="ivar">$passed</span> = (<span class="kw">keys</span> <span class="ivar">%$actual</span> == <span class="kw">keys</span> <span class="ivar">%$expected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>,   <span class="kw">map</span> {<span class="ivar">$_</span>, <span class="ivar">$actual</span><span class="kw">-></span>{<span class="ivar">$_</span>}  } <span class="kw">sort</span> <span class="kw">keys</span> <span class="ivar">%$actual</span>;
            <span class="kw">unshift</span> <span class="ivar">@expected</span>, <span class="kw">map</span> {<span class="ivar">$_</span>, <span class="ivar">$expected</span><span class="kw">-></span>{<span class="ivar">$_</span>}} <span class="kw">sort</span> <span class="kw">keys</span> <span class="ivar">%$expected</span>;
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> && <span class="kw">ref</span> <span class="ivar">$expected</span>) {
            <span class="ivar">$passed</span> = (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="kw">ref</span> <span class="ivar">$expected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>,   [ deref(<span class="ivar">$actual</span>)   ];
            <span class="kw">unshift</span> <span class="ivar">@expected</span>, [ deref(<span class="ivar">$expected</span>) ];
        }
        <span class="kw">elsif</span> (looks_like_number(<span class="ivar">$actual</span>) && looks_like_number(<span class="ivar">$expected</span>)) {
            <span class="ivar">$passed</span> = (<span class="ivar">$actual</span> == <span class="ivar">$expected</span>);
        }
        <span class="kw">elsif</span> (<span class="kw">defined</span> <span class="ivar">$actual</span> && <span class="kw">defined</span> <span class="ivar">$expected</span>) {
            <span class="ivar">$passed</span> = (<span class="ivar">$actual</span> <span class="kw">eq</span> <span class="ivar">$expected</span>);
        }
        <span class="kw">else</span> {
            <span class="ivar">$passed</span> = !(<span class="kw">defined</span> <span class="ivar">$actual</span> || <span class="kw">defined</span> <span class="ivar">$expected</span>);
        }
    }

    assert(<span class="ivar">$passed</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_in_delta-instance_method">
  
    - <strong>assert_in_delta</strong>($actual, $expected, $delta, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is less than
<tt>$delta</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_in_delta 1.001, 1;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_in_delta 104, 100, 5;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The tested value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The static value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$delta</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The expected delta.  Defaults to 0.001.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


524
525
526
527
528
529
530</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 524</span>

<span class="kw">sub</span> <span class="val">assert_in_delta</span> <span class="kw">($$;$$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>, <span class="ivar">$delta</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$delta</span> = 0.001 <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$delta</span>;
    <span class="kw">my</span> <span class="ivar">$n</span> = abs(<span class="ivar">$actual</span> - <span class="ivar">$expected</span>);
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected <span class="ivar">$actual</span> - <span class="ivar">$expected</span> (<span class="ivar">$n</span>) to be < <span class="ivar">$delta</span>"</span>, <span class="ivar">$msg</span>);
    assert(<span class="ivar">$delta</span> >= <span class="ivar">$n</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_in_epsilon-instance_method">
  
    - <strong>assert_in_epsilon</strong>($actual, $expected, $epsilon, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is less than a
given fraction of the smaller of the two numbers.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_in_epsilon 22.0 / 7.0, Math::Trig::pi;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_in_epsilon 220, 200, 0.10</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The tested value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The static value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$epsilon</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The expected tolerance factor.  Defaults to 0.001.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


565
566
567
568
569
570
571
572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 565</span>

<span class="kw">sub</span> <span class="val">assert_in_epsilon</span> <span class="kw">($$;$$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>, <span class="ivar">$epsilon</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$epsilon</span> = 0.001 <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$epsilon</span>;
    assert_in_delta(
        <span class="ivar">$actual</span>,
        <span class="ivar">$expected</span>,
        min(abs(<span class="ivar">$actual</span>), abs(<span class="ivar">$expected</span>)) * <span class="ivar">$epsilon</span>,
        <span class="ivar">$msg</span>,
    );
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_instance_of-instance_method">
  
    - <strong>assert_instance_of</strong>($obj, $type, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that the given object is an instance of <tt>$type</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_instance_of MyApp::Person<span class="kw">-></span>new(), <span class="tstring">'MyApp::Person'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The instance to check.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
        <span class='name'>$type</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The type to expect.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#assert_is_a-instance_method" title="Test::Mini::Assertions#assert_is_a (method)">#assert_is_a</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


618
619
620
621
622</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 618</span>

<span class="kw">sub</span> <span class="val">assert_instance_of</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$type</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} to be an instance of <span class="ivar">$type</span>, not @{[ref <span class="ivar">$obj</span>]}"</span>, <span class="ivar">$msg</span>);
    assert(<span class="kw">ref</span> <span class="ivar">$obj</span> <span class="kw">eq</span> <span class="ivar">$type</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_is_a-instance_method">
  
    - <strong>assert_is_a</strong>($obj, $type, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='assert_isa-instance_method'>assert_isa</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that <tt>$obj</tt> inherits from <tt>$type</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_is_a <span class="tstring">'Employee'</span>, <span class="tstring">'Employee'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_is_a Employee<span class="kw">-></span>new(), <span class="tstring">'Employee'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_is_a <span class="tstring">'Employee'</span>, <span class="tstring">'Person'</span>; # assuming Employee<span class="kw">-></span>isa(<span class="tstring">'Person'</span>)</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_is_a Employee<span class="kw">-></span>new(), <span class="tstring">'Person'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The instance or class to check.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
        <span class='name'>$type</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The expected superclass.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


638
639
640
641
642</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 638</span>

<span class="kw">sub</span> <span class="val">assert_is_a</span><span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$type</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} to inherit from <span class="ivar">$type</span>"</span>, <span class="ivar">$msg</span>);
    assert(<span class="ivar">$obj</span><span class="kw">-></span>isa(<span class="ivar">$type</span>), <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_match-instance_method">
  
    - <strong>assert_match</strong>($string, $pattern, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that the given <tt>$string</tt> matches the given <tt>$pattern</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_match <span class="tstring">'Four score and seven years ago...'</span>, <span class="regexp"><span class="kw">qr</span>/score/</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$string</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The string to match.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Regex</tt>)</span>
      
      
        <span class='name'>$pattern</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The regular expression to match against.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


656
657
658
659
660</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 656</span>

<span class="kw">sub</span> <span class="val">assert_match</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$string</span>, <span class="ivar">$pattern</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected qr/<span class="ivar">$pattern</span>/ to match against @{[inspect(<span class="ivar">$string</span>)]}"</span>, <span class="ivar">$msg</span>);
    assert(<span class="ivar">$string</span> =~ <span class="ivar">$pattern</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="assert_undef-instance_method">
  
    - <strong>assert_undef</strong>($obj, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='refute_defined-instance_method'>refute_defined</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that the given <tt>$obj</tt> is undefined.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">assert_undef <span class="ivar">$value</span>;  # <span class="kw">if</span> not <span class="kw">defined</span> <span class="ivar">$value</span></pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value to check.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


693
694
695
696
697</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 693</span>

<span class="kw">sub</span> <span class="val">assert_undef</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} to be undefined"</span>, <span class="ivar">$msg</span>);
    refute(<span class="kw">defined</span> <span class="ivar">$obj</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="flunk-instance_method">
  
    - <strong>flunk</strong>($msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Causes the current test to exit immediately with a failing status.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


717
718
719
720
721</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 717</span>

<span class="kw">sub</span> <span class="val">flunk</span> <span class="kw">(;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = <span class="tstring">'Epic failure'</span> <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$msg</span>;
    assert(0, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute-instance_method">
  
    - <strong>refute</strong>($test, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Asserts that <tt>$test</tt> is falsey, and throws a
<span class='object_link'><a href="Exception/Assert.html" title="Test::Mini::Exception::Assert (class)">Exception::Assert</a></span> if that assertion fails.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute 0;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute <span class="kw">undef</span>, <span class="tstring">'Deny the untruths'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$test</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 126</span>

<span class="kw">sub</span> <span class="val">refute</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$test</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> ||= <span class="tstring">'Refutation failed; no message given.'</span>;
    <span class="kw">return</span> assert(!<span class="ivar">$test</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_block-instance_method">
  
    - <strong>refute_block</strong>($block, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>
This assertion offers little advantage over the base <span class='object_link'><a href="#refute-instance_method" title="Test::Mini::Assertions#refute (method)">#refute</a></span>. This will
be removed in v2.0.0.
</p>
</div></div>
<p>
Asserts that the given code reference returns a falsey value.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_block { <span class="tstring">''</span> };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_block \&some_sub, <span class="tstring">'expected worse from &some_sub'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>CODE</tt>)</span>
      
      
        <span class='name'>$block</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The code reference to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 165</span>

<span class="kw">sub</span> <span class="val">refute_block</span> <span class="kw">(&;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$block</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="kw">warn</span> <span class="tstring">'#refute_block is deprecated; please use #refute instead.'</span>;
    (<span class="ivar">$msg</span>, <span class="ivar">$block</span>) = (<span class="ivar">$block</span>, <span class="ivar">$msg</span>) <span class="kw">if</span> <span class="ivar">$msg</span> && <span class="kw">ref</span> <span class="ivar">$block</span> <span class="kw">ne</span> <span class="tstring">'CODE'</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">'Expected block to return false value'</span>, <span class="ivar">$msg</span>);
    assert_instance_of(<span class="ivar">$block</span>, <span class="tstring">'CODE'</span>);
    refute(<span class="ivar">$block</span><span class="kw">-></span>(), <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_can-instance_method">
  
    - <strong>refute_can</strong>($obj, $method, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='refute_responds_to-instance_method'>refute_responds_to</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies that the given <tt>$obj</tt> is <b>not</b> capable of responding to the
given <tt>$method</tt> name.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_can <span class="ivar">$date</span>, <span class="tstring">'to_time'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_can <span class="ivar">$time</span>, <span class="tstring">'day'</span>, <span class="tstring">'$time cannot respond to #day'</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The object being tested.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$method</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The method name being checked.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


202
203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 202</span>

<span class="kw">sub</span> <span class="val">refute_can</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$obj</span>, <span class="ivar">$method</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$obj</span>)]} (@{[ref <span class="ivar">$obj</span> || 'SCALAR']}) to not respond to #<span class="ivar">$method</span>"</span>, <span class="ivar">$msg</span>);
    refute(<span class="ivar">$obj</span><span class="kw">-></span>can(<span class="ivar">$method</span>), <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_contains-instance_method">
  
    - <strong>refute_contains</strong>($collection, $obj, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies that the given <tt>$collection</tt> does not contain the given <tt>$obj</tt> as
a member.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_contains [<span class="tstring">qw/ 1 2 3 /</span>], 5;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_contains { <span class="symbol">a </span>=> <span class="tstring">'b'</span> }, <span class="tstring">'x'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_contains <span class="tstring">'expectorate'</span>, <span class="tstring">'spec'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_contains Collection<span class="kw">-></span>new(1, 2, 3), 5;  # <span class="kw">unless</span> Collection<span class="kw">-></span>contains(5)</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array|Hash|String|#contains</tt>)</span>
      
      
        <span class='name'>$collection</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The collection to test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$obj</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The needle to look for.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 256</span>

<span class="kw">sub</span> <span class="val">refute_contains</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$collection</span>, <span class="ivar">$obj</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="kw">my</span> <span class="ivar">$m</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$collection</span>)]} to not contain @{[inspect(<span class="ivar">$obj</span>)]}"</span>, <span class="ivar">$msg</span>);
    <span class="kw">if</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
        <span class="kw">my</span> <span class="ivar">$search</span> = any {<span class="kw">defined</span> <span class="ivar">$obj</span> ? <span class="ivar">$_</span> <span class="kw">eq</span> <span class="ivar">$obj</span> : <span class="kw">defined</span> <span class="ivar">$_</span> } <span class="ivar">@$collection</span>;
        refute(<span class="ivar">$search</span>, <span class="ivar">$m</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
        &refute_contains([<span class="ivar">%$collection</span>], <span class="ivar">$obj</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span>) {
        assert_can(<span class="ivar">$collection</span>, <span class="tstring">'contains'</span>);
        refute(<span class="ivar">$collection</span><span class="kw">-></span>contains(<span class="ivar">$obj</span>), <span class="ivar">$m</span>);
    }
    <span class="kw">else</span> {
        refute(<span class="kw">index</span>(<span class="ivar">$collection</span>, <span class="ivar">$obj</span>) != -1, <span class="ivar">$m</span>);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_empty-instance_method">
  
    - <strong>refute_empty</strong>($collection, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Verifies the non-emptiness of a collection.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_empty [ 1 ];</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_empty { <span class="symbol">a </span>=> 1 };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_empty <span class="tstring">'full'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_empty Collection<span class="kw">-></span>new();  # <span class="kw">unless</span> Collection<span class="kw">-></span>new()<span class="kw">-></span>is_empty()</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array|Hash|String|#is_empty</tt>)</span>
      
      
        <span class='name'>$collection</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The collection under scrutiny.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 362</span>

<span class="kw">sub</span> <span class="val">refute_empty</span> <span class="kw">($;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$collection</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected @{[inspect(<span class="ivar">$collection</span>)]} to not be empty"</span>, <span class="ivar">$msg</span>);
    <span class="kw">if</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
        assert(<span class="ivar">@$collection</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
        assert(<span class="kw">keys</span> <span class="ivar">%$collection</span>, <span class="ivar">$msg</span>);
    }
    <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$collection</span>) {
        assert_can(<span class="ivar">$collection</span>, <span class="tstring">'is_empty'</span>);
        refute(<span class="ivar">$collection</span><span class="kw">-></span>is_empty(), <span class="ivar">$msg</span>);
    }
    <span class="kw">else</span> {
        assert(<span class="kw">length</span> <span class="ivar">$collection</span>, <span class="ivar">$msg</span>);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_equal-instance_method">
  
    - <strong>refute_equal</strong>($actual, $unexpected, $msg) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='refute_eq-instance_method'>refute_eq</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks two given arguments for inequality.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_equal 3.001, 3;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_equal <span class="kw">lc</span>(<span class="tstring">'FOOL'</span>), <span class="tstring">'foo'</span>;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_equal [<span class="tstring">qw/ 1 23 /</span>], [ 1, 2, 3 ];</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_equal { <span class="symbol">a </span>=> <span class="tstring">'ae'</span> }, { <span class="symbol">a </span>=> <span class="tstring">'eh'</span> };</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_equal Class<span class="kw">-></span>new(), <span class="ivar">$expected</span>;  # <span class="kw">unless</span> <span class="ivar">$expected</span><span class="kw">-></span>equals(Class<span class="kw">-></span>new())</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The value under test.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The tested value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 466</span>

<span class="kw">sub</span> <span class="val">refute_equal</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$unexpected</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"The given values were unexpectedly equal"</span>, <span class="ivar">$msg</span>);

    <span class="kw">my</span> <span class="ivar">@unexpected</span> = (<span class="ivar">$unexpected</span>);
    <span class="kw">my</span> <span class="ivar">@actual</span>   = (<span class="ivar">$actual</span>);

    <span class="kw">my</span> <span class="ivar">$passed</span> = 1;

    <span class="kw">while</span> (<span class="ivar">$passed</span> && (<span class="ivar">@actual</span> || <span class="ivar">@unexpected</span>)) {
        (<span class="ivar">$actual</span>, <span class="ivar">$unexpected</span>) = (<span class="kw">shift</span>(<span class="ivar">@actual</span>), <span class="kw">shift</span>(<span class="ivar">@unexpected</span>));

        <span class="kw">next</span> <span class="kw">if</span> <span class="kw">ref</span> <span class="ivar">$actual</span> && <span class="kw">ref</span> <span class="ivar">$unexpected</span> && refaddr(<span class="ivar">$actual</span>) == refaddr(<span class="ivar">$unexpected</span>);

        <span class="kw">if</span> (UNIVERSAL::can(<span class="ivar">$unexpected</span>, <span class="tstring">'equals'</span>)) {
            <span class="ivar">$passed</span> = <span class="ivar">$unexpected</span><span class="kw">-></span>equals(<span class="ivar">$actual</span>);
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span> && <span class="kw">ref</span> <span class="ivar">$unexpected</span> <span class="kw">eq</span> <span class="tstring">'ARRAY'</span>) {
            <span class="ivar">$passed</span> = (<span class="ivar">@$actual</span> == <span class="ivar">@$unexpected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>, <span class="ivar">@$actual</span>;
            <span class="kw">unshift</span> <span class="ivar">@unexpected</span>, <span class="ivar">@$unexpected</span>;
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span> && <span class="kw">ref</span> <span class="ivar">$unexpected</span> <span class="kw">eq</span> <span class="tstring">'HASH'</span>) {
            <span class="ivar">$passed</span> = (<span class="kw">keys</span> <span class="ivar">%$actual</span> == <span class="kw">keys</span> <span class="ivar">%$unexpected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>, <span class="ivar">%$actual</span>;
            <span class="kw">unshift</span> <span class="ivar">@unexpected</span>, <span class="ivar">%$unexpected</span>;
        }
        <span class="kw">elsif</span> (<span class="kw">ref</span> <span class="ivar">$actual</span> && <span class="kw">ref</span> <span class="ivar">$unexpected</span>) {
            <span class="ivar">$passed</span> = (<span class="kw">ref</span> <span class="ivar">$actual</span> <span class="kw">eq</span> <span class="kw">ref</span> <span class="ivar">$unexpected</span>);
            <span class="kw">unshift</span> <span class="ivar">@actual</span>,     [ deref(<span class="ivar">$actual</span>)   ];
            <span class="kw">unshift</span> <span class="ivar">@unexpected</span>, [ deref(<span class="ivar">$unexpected</span>) ];
        }
        <span class="kw">elsif</span> (looks_like_number(<span class="ivar">$actual</span>) && looks_like_number(<span class="ivar">$unexpected</span>)) {
            <span class="ivar">$passed</span> = (<span class="ivar">$actual</span> == <span class="ivar">$unexpected</span>);
        }
        <span class="kw">elsif</span> (<span class="kw">defined</span> <span class="ivar">$actual</span> && <span class="kw">defined</span> <span class="ivar">$unexpected</span>) {
            <span class="ivar">$passed</span> = (<span class="ivar">$actual</span> <span class="kw">eq</span> <span class="ivar">$unexpected</span>);
        }
        <span class="kw">else</span> {
            <span class="ivar">$passed</span> = !(<span class="kw">defined</span> <span class="ivar">$actual</span> || <span class="kw">defined</span> <span class="ivar">$unexpected</span>);
        }
    }

    refute(<span class="ivar">$passed</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_in_delta-instance_method">
  
    - <strong>refute_in_delta</strong>($actual, $expected, $delta, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is greater
than <tt>$delta</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_in_delta 1.002, 1;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_in_delta 106, 100, 5;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The tested value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The static value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$delta</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The delta <tt>$actual</tt> and <tt>$expected</tt> are expected to differ by.  Defaults to
0.001.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


545
546
547
548
549
550
551</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 545</span>

<span class="kw">sub</span> <span class="val">refute_in_delta</span> <span class="kw">($$;$$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>, <span class="ivar">$delta</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$delta</span> = 0.001 <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$delta</span>;
    <span class="kw">my</span> <span class="ivar">$n</span> = abs(<span class="ivar">$actual</span> - <span class="ivar">$expected</span>);
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected <span class="ivar">$actual</span> - <span class="ivar">$expected</span> (<span class="ivar">$n</span>) to be > <span class="ivar">$delta</span>"</span>, <span class="ivar">$msg</span>);
    refute(<span class="ivar">$delta</span> >= <span class="ivar">$n</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_in_epsilon-instance_method">
  
    - <strong>refute_in_epsilon</strong>($actual, $expected, $epsilon, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks that the difference between <tt>$actual</tt> and <tt>$expected</tt> is greater
than a given fraction of the smaller of the two numbers.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_in_epsilon 21.0 / 7.0, Math::Trig::pi;</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_in_epsilon 220, 200, 0.20</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$actual</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The tested value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$expected</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The static value.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
        <span class='name'>$epsilon</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The factor by which <tt>$actual</tt> and <tt>$expected</tt> are expected to differ by. 
Defaults to 0.001.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


589
590
591
592
593
594
595
596
597
598</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 589</span>

<span class="kw">sub</span> <span class="val">refute_in_epsilon</span> <span class="kw">($$;$$)</span> {
    <span class="kw">my</span> (<span class="ivar">$actual</span>, <span class="ivar">$expected</span>, <span class="ivar">$epsilon</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$epsilon</span> = 0.001 <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$epsilon</span>;
    refute_in_delta(
        <span class="ivar">$actual</span>,
        <span class="ivar">$expected</span>,
        min(abs(<span class="ivar">$actual</span>), abs(<span class="ivar">$expected</span>)) * <span class="ivar">$epsilon</span>,
        <span class="ivar">$msg</span>,
    );
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refute_match-instance_method">
  
    - <strong>refute_match</strong>($string, $pattern, $msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validates that the given <tt>$string</tt> does not match the given <tt>$pattern</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">refute_match <span class="tstring">'Four score and seven years ago...'</span>, <span class="regexp"><span class="kw">qr</span>/score/</span>;</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$string</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The string to match.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Regex</tt>)</span>
      
      
        <span class='name'>$pattern</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The regular expression to match against.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


670
671
672
673
674</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 670</span>

<span class="kw">sub</span> <span class="val">refute_match</span> <span class="kw">($$;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$string</span>, <span class="ivar">$pattern</span>, <span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = message(<span class="tstring">"Expected qr/<span class="ivar">$pattern</span>/ to fail to match against @{[inspect(<span class="ivar">$string</span>)]}"</span>, <span class="ivar">$msg</span>);
    refute(<span class="ivar">$string</span> =~ <span class="ivar">$pattern</span>, <span class="ivar">$msg</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="skip-instance_method">
  
    - <strong>skip</strong>($msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Allows the current test to be bypassed with an indeterminate status.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>$msg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
An optional description.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


705
706
707
708
709
710
711
712
713</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/Test/Mini/Assertions.pm', line 705</span>

<span class="kw">sub</span> <span class="val">skip</span> <span class="kw">(;$)</span> {
    <span class="kw">my</span> (<span class="ivar">$msg</span>) = <span class="ivar">@_</span>;
    <span class="ivar">$msg</span> = <span class="tstring">'Test skipped; no message given.'</span> <span class="kw">unless</span> <span class="kw">defined</span> <span class="ivar">$msg</span>;
    <span class="ivar">$msg</span> = <span class="ivar">$msg</span><span class="kw">-></span>() <span class="kw">if</span> <span class="kw">ref</span> <span class="ivar">$msg</span> <span class="kw">eq</span> <span class="tstring">'CODE'</span>;
    Test::Mini::Exception::Skip<span class="kw">-></span>throw(
        <span class="symbol">message        </span>=> <span class="ivar">$msg</span>,
        <span class="symbol">ignore_package </span>=> [<span class="const">__PACKAGE__</span>],
    );
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Feb 10 23:19:20 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.4 (ruby-1.8.7).
</div>

  </body>
</html>